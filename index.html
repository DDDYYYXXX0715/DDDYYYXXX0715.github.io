<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DreamyD - 女装时尚</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- 头部区域 -->
    <header>
        <div class="container">
            <div class="logo">
                <h1>DreamyD</h1>
            </div>
            <div class="nav">
                <ul class="main-nav">
                    <li><a href="index.html" class="active">首页</a></li>
                    <li class="dropdown">
                        <a href="#">商品分类</a>
                        <ul class="submenu">
                            <li><a href="#">连衣裙</a></li>
                            <li><a href="#">上衣</a></li>
                            <li><a href="#">裤子</a></li>
                            <li><a href="#">鞋子</a></li>
                            <li><a href="#">包包</a></li>
                            <li><a href="#">配饰</a></li>
                        </ul>
                    </li>
                    <li><a href="#">热门新品</a></li>
                    <li><a href="#">优惠活动</a></li>
                    <li><a href="#">关于我们</a></li>
                </ul>
            </div>
            <div class="user-actions">
                <!-- 登录状态下显示 -->
                <span id="user-info" style="display:none;">
                    已登录：<span id="user-name"></span>
                    <a href="#" id="logout-btn">退出</a>
                </span>
                <!-- 未登录状态下显示 -->
                <a href="login.html" class="login-btn" id="login-link">登录</a>
                <a href="register.html" class="register-btn" id="register-link">注册</a>
                <a href="cart.html" class="cart-icon">购物车(<span id="cart-count">0</span>)</a>
            </div>
        </div>
    </header>

    <!-- 轮播图区域 -->
    <section class="banner">
        <div class="carousel-container">
            <div class="carousel-slides">
                <div class="slide active">
                    <img src="images/夏季新品.png" alt="夏季新品">
                </div>
                <div class="slide">
                    <img src="images/特辑.png" alt="连衣裙特辑">
                </div>
                <div class="slide">
                    <img src="images/限时优惠.png" alt="限时优惠">
                </div>
            </div>
            <div class="carousel-controls">
                <button class="prev-btn">&lt;</button>
                <button class="next-btn">&gt;</button>
            </div>
            <div class="carousel-indicators">
                <span class="indicator active"></span>
                <span class="indicator"></span>
                <span class="indicator"></span>
            </div>
        </div>
    </section>

    <!-- 商品展示区域 -->
    <section class="products">
        <div class="container">
            <h2 class="section-title">热门商品</h2>
            <div class="product-grid">
                <div class="product-card" data-id="DD20230601" data-title="碎花连衣裙" data-price="199" data-img="images/dress.jpg">
                    <div class="product-image">
                        <a href="detail.html?id=DD20230601"><img src="images/dress.jpg" alt="碎花连衣裙"></a>
                    </div>
                    <div class="product-info">
                        <h3><a href="detail.html?id=DD20230601">碎花连衣裙</a></h3>
                        <p class="price">¥199</p>
                        <button class="add-to-cart">加入购物车</button>
                    </div>
                </div>
                <div class="product-card" data-id="DD20230602" data-title="白色T恤" data-price="89" data-img="images/shirt.jpg">
                    <div class="product-image">
                        <a href="detail.html?id=DD20230602"><img src="images/shirt.jpg" alt="白色T恤"></a>
                    </div>
                    <div class="product-info">
                        <h3><a href="detail.html?id=DD20230602">白色T恤</a></h3>
                        <p class="price">¥89</p>
                        <button class="add-to-cart">加入购物车</button>
                    </div>
                </div>
                <div class="product-card" data-id="DD20230603" data-title="牛仔短裤" data-price="129" data-img="images/jeans.jpg">
                    <div class="product-image">
                        <a href="detail.html?id=DD20230603"><img src="images/jeans.jpg" alt="牛仔短裤"></a>
                    </div>
                    <div class="product-info">
                        <h3><a href="detail.html?id=DD20230603">牛仔短裤</a></h3>
                        <p class="price">¥129</p>
                        <button class="add-to-cart">加入购物车</button>
                    </div>
                </div>
                <div class="product-card" data-id="DD20230604" data-title="时尚手提包" data-price="259" data-img="images/bag.jpg">
                    <div class="product-image">
                        <a href="detail.html?id=DD20230604"><img src="images/bag.jpg" alt="手提包"></a>
                    </div>
                    <div class="product-info">
                        <h3><a href="detail.html?id=DD20230604">时尚手提包</a></h3>
                        <p class="price">¥259</p>
                        <button class="add-to-cart">加入购物车</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 页脚区域 -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>关于DreamyD</h3>
                    <p>DreamyD专注于为年轻女性提供时尚、高品质的服饰、鞋子和配饰。</p>
                </div>
                <div class="footer-section">
                    <h3>联系方式</h3>
                    <p>电话: 400-123-4567</p>
                    <p>邮箱: service@dreamyd.com</p>
                </div>
                <div class="footer-section">
                    <h3>关注我们</h3>
                    <div class="social-icons">
                        <a href="#">微信</a>
                        <a href="#">微博</a>
                        <a href="#">小红书</a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 DreamyD 女装时尚 版权所有</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/carousel.js"></script>
    <script src="js/index-cart.js"></script>
    <script>
        // 登录状态和购物车数量动态渲染
        document.addEventListener('DOMContentLoaded', function() {
            // 假设本地存储 loginUser 保存当前登录用户名，cart_{username} 保存购物车数量
            var username = localStorage.getItem('loginUser');
            var userInfo = document.getElementById('user-info');
            var userNameSpan = document.getElementById('user-name');
            var loginLink = document.getElementById('login-link');
            var registerLink = document.getElementById('register-link');
            var cartCount = document.getElementById('cart-count');
            var logoutBtn = document.getElementById('logout-btn');

            if (username) {
                userInfo.style.display = '';
                userNameSpan.textContent = username;
                loginLink.style.display = 'none';
                registerLink.style.display = 'none';
                // 获取该用户购物车数量
                var cartNum = localStorage.getItem('cart_' + username) || 0;
                cartCount.textContent = cartNum;
            } else {
                userInfo.style.display = 'none';
                loginLink.style.display = '';
                registerLink.style.display = '';
                cartCount.textContent = 0;
            }

            // 退出登录
            if (logoutBtn) {
                logoutBtn.onclick = function() {
                    localStorage.removeItem('loginUser');
                    location.reload();
                }
            }
        });
    </script>
</body>
</html>